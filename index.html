<!DOCTYPE html>
<html lang="et">

<head>
  <meta charset="UTF-8">
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <meta name="theme-color" content="#451a03">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <title>Niiluse Teekond - Vana-Egiptuse √µppimism√§ng</title>
  <link rel="manifest" href="manifest.json">
  <link rel="apple-touch-icon" href="icon-192.png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://unpkg.com/tone@14.7.77/build/Tone.js"></script>
  <style>
    :root {
      --egypt-gold: #fbbf24;
      --egypt-sand: #fef3c7;
      --egypt-lapis: #1e3a8a;
      --egypt-brown: #451a03;
    }

    * {
      touch-action: manipulation;
      -webkit-tap-highlight-color: transparent;
      font-family: 'Outfit', sans-serif;
    }

    body {
      overscroll-behavior-y: none;
      user-select: none;
      -webkit-user-select: none;
      background-color: var(--egypt-brown);
      margin: 0;
      padding: 0;
      min-height: 100vh;
      overflow-x: hidden;
    }

    input {
      user-select: text;
      -webkit-user-select: text;
    }

    .glass {
      background: rgba(69, 26, 3, 0.7);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border: 1px solid rgba(251, 191, 36, 0.2);
    }

    .glass-light {
      background: rgba(254, 243, 199, 0.9);
      backdrop-filter: blur(8px);
      border: 1px solid rgba(251, 191, 36, 0.3);
    }

    @keyframes float {

      0%,
      100% {
        transform: translateY(0px) rotate(0deg);
      }

      50% {
        transform: translateY(-15px) rotate(2deg);
      }
    }

    .animate-float {
      animation: float 4s ease-in-out infinite;
    }

    @keyframes sand-shimmer {
      from {
        background-position: 0 0;
      }

      to {
        background-position: 100px 100px;
      }
    }

    .bg-sand {
      background-image: radial-gradient(circle, #fbbf24 1px, transparent 1px);
      background-size: 20px 20px;
      opacity: 0.05;
      animation: sand-shimmer 20s linear infinite;
    }

    .btn-egypt {
      transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      box-shadow: 0 4px 0 #b45309;
    }

    .btn-egypt:active {
      transform: translateY(2px);
      box-shadow: 0 2px 0 #b45309;
    }

    .achievement-card {
      transition: all 0.5s ease;
    }

    .bg-cream-paper {
      background-image: url('https://www.transparenttextures.com/patterns/cream-paper.png');
    }

    .bg-sandpaper {
      background-image: url('https://www.transparenttextures.com/patterns/sandpaper.png');
    }

    .achievement-card.unlocked {
      animation: unlock-shine 2s linear infinite;
    }

    @keyframes unlock-shine {
      0% {
        box-shadow: 0 0 5px #fbbf24;
      }

      50% {
        box-shadow: 0 0 15px #fbbf24;
      }

      100% {
        box-shadow: 0 0 5px #fbbf24;
      }
    }
  </style>
</head>

<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect, useRef, useCallback } = React;

    // ========== HELIEFEKTID ==========
    const useSounds = () => {
      const synthRef = useRef(null);
      const [soundEnabled, setSoundEnabled] = useState(true);
      const [initialized, setInitialized] = useState(false);

      const initAudio = async () => {
        if (initialized) return;
        await Tone.start();
        synthRef.current = {
          correct: new Tone.Synth({ oscillator: { type: 'sine' }, envelope: { attack: 0.01, decay: 0.2, sustain: 0.1, release: 0.3 } }).toDestination(),
          wrong: new Tone.Synth({ oscillator: { type: 'triangle' }, envelope: { attack: 0.01, decay: 0.3, sustain: 0.1, release: 0.5 } }).toDestination(),
          treasure: new Tone.PolySynth(Tone.Synth, { oscillator: { type: 'sine' }, envelope: { attack: 0.02, decay: 0.3, sustain: 0.2, release: 0.5 } }).toDestination(),
          click: new Tone.MembraneSynth({ pitchDecay: 0.05, octaves: 2, envelope: { attack: 0.001, decay: 0.1, sustain: 0, release: 0.1 } }).toDestination(),
          fanfare: new Tone.PolySynth(Tone.Synth).toDestination(),
          fall: new Tone.Synth({ oscillator: { type: 'sawtooth' }, envelope: { attack: 0.01, decay: 0.5, sustain: 0.2, release: 0.8 } }).toDestination(),
          event: new Tone.PolySynth(Tone.Synth, { oscillator: { type: 'triangle' }, envelope: { attack: 0.05, decay: 0.2, sustain: 0.3, release: 0.4 } }).toDestination()
        };
        setInitialized(true);
      };

      const playSound = useCallback((type) => {
        if (!soundEnabled || !synthRef.current) return;
        const now = Tone.now();
        try {
          switch (type) {
            case 'correct':
              synthRef.current.correct.triggerAttackRelease('C5', '8n', now);
              synthRef.current.correct.triggerAttackRelease('E5', '8n', now + 0.1);
              synthRef.current.correct.triggerAttackRelease('G5', '8n', now + 0.2);
              break;
            case 'wrong':
              synthRef.current.wrong.triggerAttackRelease('C3', '4n', now);
              break;
            case 'treasure':
              synthRef.current.treasure.triggerAttackRelease(['C5', 'E5', 'G5', 'C6'], '4n', now);
              break;
            case 'click':
              synthRef.current.click.triggerAttackRelease('C2', '32n', now);
              break;
            case 'streak':
              synthRef.current.fanfare.triggerAttackRelease(['C4', 'E4', 'G4'], '8n', now);
              synthRef.current.fanfare.triggerAttackRelease(['E4', 'G4', 'B4'], '8n', now + 0.3);
              break;
            case 'victory':
              synthRef.current.fanfare.triggerAttackRelease(['C4', 'E4', 'G4'], '8n', now);
              synthRef.current.fanfare.triggerAttackRelease(['G4', 'C5', 'E5'], '8n', now + 0.4);
              synthRef.current.fanfare.triggerAttackRelease(['C5', 'E5', 'G5'], '2n', now + 0.6);
              break;
            case 'fall':
              synthRef.current.fall.triggerAttackRelease('C4', '8n', now);
              synthRef.current.fall.triggerAttackRelease('A3', '8n', now + 0.15);
              synthRef.current.fall.triggerAttackRelease('F3', '8n', now + 0.3);
              break;
            case 'levelup':
              synthRef.current.correct.triggerAttackRelease('G4', '16n', now);
              synthRef.current.correct.triggerAttackRelease('C5', '16n', now + 0.1);
              synthRef.current.correct.triggerAttackRelease('E5', '16n', now + 0.2);
              synthRef.current.correct.triggerAttackRelease('G5', '8n', now + 0.3);
              break;
            case 'event':
              synthRef.current.event.triggerAttackRelease(['E4', 'G4', 'B4'], '8n', now);
              synthRef.current.event.triggerAttackRelease(['G4', 'B4', 'D5'], '4n', now + 0.2);
              break;
            case 'achievement':
              synthRef.current.fanfare.triggerAttackRelease(['C5', 'E5'], '16n', now);
              synthRef.current.fanfare.triggerAttackRelease(['G5', 'C6'], '8n', now + 0.2);
              break;
          }
        } catch (e) { console.log('Sound error:', e); }
      }, [soundEnabled]);

      return { playSound, soundEnabled, setSoundEnabled, initAudio, initialized };
    };

    // ========== PILDID ==========
    const images = {
      nile: { url: "images/nile.png", emoji: "üåä" },
      delta: { url: "images/delta.png", emoji: "üî∫" },
      egypt_map: { url: "https://upload.wikimedia.org/wikipedia/commons/thumb/2/2f/Egypt_Topography.png/200px-Egypt_Topography.png", emoji: "üó∫Ô∏è" },
      giza: { url: "images/giza.png", emoji: "üî∫" },
      sphinx: { url: "images/sphinx.png", emoji: "ü¶Å" },
      step_pyramid: { url: "images/step_pyramid.png", emoji: "üìê" },
      karnak: { url: "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7f/Karnak_Tempel_01.jpg/280px-Karnak_Tempel_01.jpg", emoji: "üèõÔ∏è" },
      luxor: { url: "https://upload.wikimedia.org/wikipedia/commons/thumb/5/5b/Luxor_Temple_R01.jpg/250px-Luxor_Temple_R01.jpg", emoji: "üèõÔ∏è" },
      abu_simbel: { url: "https://upload.wikimedia.org/wikipedia/commons/thumb/2/25/Abu_Simbel%2C_front%2C_Egypt%2C_Oct_2004.jpg/280px-Abu_Simbel%2C_front%2C_Egypt%2C_Oct_2004.jpg", emoji: "üóø" },
      tutankhamun: { url: "images/tutankhamun.png", emoji: "üëë" },
      ramses_ii: { url: "https://upload.wikimedia.org/wikipedia/commons/thumb/0/04/Ramesses_II_in_the_Turin_Museum24.jpg/180px-Ramesses_II_in_the_Turin_Museum24.jpg", emoji: "üóø" },
      nefertiti: { url: "https://upload.wikimedia.org/wikipedia/commons/thumb/1/1f/Nofretete_Neues_Museum.jpg/180px-Nofretete_Neues_Museum.jpg", emoji: "üë∏" },
      hatshepsut: { url: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8b/Hatshepsut.jpg/180px-Hatshepsut.jpg", emoji: "üëë" },
      akhenaten: { url: "https://upload.wikimedia.org/wikipedia/commons/thumb/5/5a/Pharaoh_Akhenaten.jpg/180px-Pharaoh_Akhenaten.jpg", emoji: "‚òÄÔ∏è" },
      cleopatra: { url: "https://upload.wikimedia.org/wikipedia/commons/thumb/3/3e/Kleopatra-VII.-Altes-Museum-Berlin1.jpg/180px-Kleopatra-VII.-Altes-Museum-Berlin1.jpg", emoji: "üêç" },
      narmer: { url: "https://upload.wikimedia.org/wikipedia/commons/thumb/4/47/Narmer_Palette.jpg/180px-Narmer_Palette.jpg", emoji: "‚öîÔ∏è" },
      anubis: { url: "images/anubis.png", emoji: "üê∫" },
      horus: { url: "images/horus.png", emoji: "ü¶Ö" },
      osiris: { url: "images/osiris.png", emoji: "üíÄ" },
      isis: { url: "images/isis.png", emoji: "üåô" },
      ra: { url: "images/ra.png", emoji: "‚òÄÔ∏è" },
      bastet: { url: "images/bastet.png", emoji: "üê±" },
      thoth: { url: "images/thoth.png", emoji: "ü¶¢" },
      seth: { url: "images/seth.png", emoji: "üå™Ô∏è" },
      maat: { url: "images/maat.png", emoji: "ü™∂" },
      mummy: { url: "https://upload.wikimedia.org/wikipedia/commons/thumb/b/bb/Mummy_Louvre.jpg/150px-Mummy_Louvre.jpg", emoji: "üßü" },
      sarcophagus: { url: "https://upload.wikimedia.org/wikipedia/commons/thumb/3/3a/Tutankhamun_sarcophagus.jpg/200px-Tutankhamun_sarcophagus.jpg", emoji: "‚ö∞Ô∏è" },
      canopic_jars: { url: "https://upload.wikimedia.org/wikipedia/commons/thumb/9/93/Canopic_jars_of_Neskhons.jpg/200px-Canopic_jars_of_Neskhons.jpg", emoji: "üè∫" },
      valley_kings: { url: "https://upload.wikimedia.org/wikipedia/commons/thumb/9/99/ValleyKings.jpg/250px-ValleyKings.jpg", emoji: "üèúÔ∏è" },
      book_dead: { url: "https://upload.wikimedia.org/wikipedia/commons/thumb/5/5c/BD_Hunefer.jpg/280px-BD_Hunefer.jpg", emoji: "üìú" },
      weighing_heart: { url: "https://upload.wikimedia.org/wikipedia/commons/thumb/5/5f/BD_Weighing_of_the_Heart.jpg/280px-BD_Weighing_of_the_Heart.jpg", emoji: "‚öñÔ∏è" },
      rosetta: { url: "https://upload.wikimedia.org/wikipedia/commons/thumb/2/23/Rosetta_Stone.JPG/180px-Rosetta_Stone.JPG", emoji: "ü™®" },
      hieroglyphs: { url: "https://upload.wikimedia.org/wikipedia/commons/thumb/b/be/Hieroglyphs_from_the_tomb_of_Seti_I.jpg/250px-Hieroglyphs_from_the_tomb_of_Seti_I.jpg", emoji: "ìÄÄ" },
      scribe: { url: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8f/Egypte_louvre_001.JPG/180px-Egypte_louvre_001.JPG", emoji: "‚úçÔ∏è" },
      scarab: { url: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/ef/Lapis.lazuli.scarab.800pix.060203.jpg/200px-Lapis.lazuli.scarab.800pix.060203.jpg", emoji: "ü™≤" },
      workers: { url: "https://upload.wikimedia.org/wikipedia/commons/thumb/5/55/Maler_der_Grabkammer_des_Menna_004.jpg/250px-Maler_der_Grabkammer_des_Menna_004.jpg", emoji: "üë∑" },
      farmers: { url: "https://upload.wikimedia.org/wikipedia/commons/thumb/a/ae/Maler_der_Grabkammer_des_Sennedjem_001.jpg/250px-Maler_der_Grabkammer_des_Sennedjem_001.jpg", emoji: "üåæ" },
      alexander: { url: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e1/Alexander_the_Great_mosaic.jpg/200px-Alexander_the_Great_mosaic.jpg", emoji: "‚öîÔ∏è" },
      howard_carter: { url: "https://upload.wikimedia.org/wikipedia/commons/thumb/5/54/Howard_Carter_with_Innermost_Coffin_of_Tutankhamun.jpg/200px-Howard_Carter_with_Innermost_Coffin_of_Tutankhamun.jpg", emoji: "üî¶" },
      amarna: { url: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/85/House_Altar_Akhenaten_Nefertiti_Berlin.jpg/200px-House_Altar_Akhenaten_Nefertiti_Berlin.jpg", emoji: "üèõÔ∏è" },
      aten: { url: "https://upload.wikimedia.org/wikipedia/commons/thumb/4/4a/Aten_disk.jpg/200px-Aten_disk.jpg", emoji: "‚òÄÔ∏è" }
    };

    // Pildikomponent
    const QuestionImage = ({ imageData, large = false }) => {
      const [failed, setFailed] = useState(false);
      if (!imageData) return null;
      if (typeof imageData === 'string') {
        return (<div className={`bg-amber-200 rounded-2xl flex items-center justify-center shadow-lg ${large ? 'w-32 h-32 text-8xl' : 'w-20 h-20 text-5xl'}`}>{imageData}</div>);
      }
      if (failed) {
        return (<div className={`bg-amber-200 rounded-2xl flex items-center justify-center shadow-lg ${large ? 'w-32 h-32 text-8xl' : 'w-20 h-20 text-5xl'}`}>{imageData.emoji}</div>);
      }
      return (<img src={imageData.url} alt="" onError={() => setFailed(true)} className={`rounded-2xl shadow-lg object-cover ${large ? 'w-32 h-32' : 'w-20 h-20'}`} />);
    };

    // ========== S√úNDMUSED ==========
    const randomEvents = [
      { id: 'flood', name: 'Niiluse √ºleujutus', icon: 'üåä', description: 'Topelt punktid j√§rgmise 3 k√ºsimuse eest!', effect: 'doublePoints', duration: 3, positive: true },
      { id: 'blessing', name: 'Vaarao √µnnistus', icon: 'üëë', description: 'Saad √ºhe lisaelu!', effect: 'extraLife', positive: true },
      { id: 'thoth', name: 'Thoti tarkus', icon: 'ü¶¢', description: 'J√§rgmine vihje on tasuta!', effect: 'freeHint', positive: true },
      { id: 'scarab', name: 'Skarabeuse √µnn', icon: 'ü™≤', description: 'J√§rgmine vale vastus ei v√µta elu!', effect: 'shield', positive: true },
      { id: 'seth', name: 'Sethi needus', icon: 'üå™Ô∏è', description: 'Kaotad 50 punkti!', effect: 'losePoints', positive: false },
    ];

    // ========== SAAVUTUSED ==========
    const achievements = [
      { id: 'first_correct', name: 'Esimene samm', icon: 'üë£', description: 'Vasta √µigesti', condition: (s) => s.totalCorrect >= 1 },
      { id: 'streak5', name: 'Tulekahju', icon: 'üî•', description: '5 √µiget j√§rjest', condition: (s) => s.bestStreak >= 5 },
      { id: 'streak10', name: 'P√µlev p√§ike', icon: '‚òÄÔ∏è', description: '10 √µiget j√§rjest', condition: (s) => s.bestStreak >= 10 },
      { id: 'collector5', name: 'Koguja', icon: 'üè∫', description: 'Kogu 5 aaret', condition: (s) => s.treasureCount >= 5 },
      { id: 'scholar10', name: '√ïpilane', icon: 'üìñ', description: 'Kogu 10 faktikaarti', condition: (s) => s.factCount >= 10 },
      { id: 'perfect_location', name: 'Perfektne', icon: '‚≠ê', description: 'L√§bi asukoht vigadeta', condition: (s) => s.perfectLocations >= 1 },
      { id: 'pharaoh', name: 'Vaarao', icon: 'üëë', description: 'L√§bi kogu m√§ng', condition: (s) => s.gameCompleted },
    ];

    // ========== K√úSIMUSED ==========
    const allQuestions = [
      // ===================== DELTA (Geography & Basics) =====================
      {
        id: 'new_delta_1', type: 'choice', location: 'delta', difficulty: 1,
        question: "Mis suunas voolab Niiluse j√µgi?",
        options: ["P√µhjast l√µunasse", "L√µunast p√µhja", "Idast l√§√§nde", "L√§√§nest itta"],
        correct: 1,
        image: images.egypt_map,
        explanation: "Niilus on √ºks v√§heseid suurj√µgesid maailmas, mis voolab l√µunast p√µhja ‚Äì Aafrika sisealadelt Vahemere poole. See m√§√§ras √§ra ka Egiptuse jaotuse: √úlem-Egiptus asus l√µunas (j√µe √ºlemjooksul) ja Alam-Egiptus p√µhjas (j√µe suudmes).",
        wrongFeedback: {
          0: "Enamik maailma j√µgesid voolab t√µesti l√µunasse, kuid Niilus on erand, voolates Vahemere poole.",
          2: "Idast l√§√§nde voolamine t√§hendaks k√µrbesse suundumist, kuid Niilus j√§rgib oru p√µhja-suunda.",
          3: "Niilus ei voola itta, Red Sea (Punase mere) poole, vaid p√ºsib oma viljakas orus."
        }
      },
      {
        id: 'new_delta_2', type: 'choice', location: 'delta', difficulty: 2,
        question: "Millal j√µudis harilikult Egiptusesse tulvavesi, mis t√§histas √ºleujutuse algust?",
        options: ["M√§rtsis", "Juuni l√µpus ja juulis", "Septembris", "Detsembris"],
        correct: 1,
        image: images.nile,
        explanation: "Juuni l√µpus ja juulis Egiptusesse j√µudev tulvavesi t√µi kaasa s√ºgiseni kestva √ºleujutuse. See oli p√µhjustatud vihmaperioodidest Niiluse √ºlemjooksul. Tulvavesi j√§ttis maha pehme ja viljaka mudakihi, mis oli p√µlluharimise aluseks.",
        wrongFeedback: {
          0: "M√§rts on Egiptuses saagikoristuse aeg, mil maa hakkab uue tulva ootel kuivama.",
          2: "September on √ºleujutuse k√µrgaeg, mil vesi p√ºsib p√µldudel, kuid tulv algab varem.",
          3: "Detsember on talv, mil vili juba kasvab taandunud veest j√§√§nud mudas."
        }
      },
      {
        id: 'new_delta_3', type: 'choice', location: 'delta', difficulty: 2,
        question: "Milline t√§ht koidutaevas m√§rkis egiptlastele uue aasta ja √ºleujutuse algust?",
        options: ["P√µhjanael", "Siirius", "Orion", "Veenus"],
        correct: 1,
        image: images.ra,
        explanation: "Egiptlased panid t√§hele, et Niiluse √ºleujutus algas alati umbes sel ajal, kui vahepeal varjus olnud t√§ht Siirius uuesti koidutaevasse ilmus. Sellest ilmingust lahutas eelmist korda t√§pselt 365 p√§eva, mis sai egiptlaste p√§ikesekalendri aluseks.",
        wrongFeedback: {
          0: "P√µhjanaela kasutati navigeerimiseks, kuid see ei olnud seotud Niiluse r√ºtmiga.",
          2: "Orion oli egiptlastele t√§htis (seostati Osirisega), kuid uut aastat kuulutas Siirius.",
          3: "Veenus on planeet, mitte t√§ht, ega m√§rkinud kalendriaasta algust."
        }
      },
      {
        id: 'new_delta_4', type: 'truefalse', location: 'delta', difficulty: 1,
        question: "Vana-Egiptuse arstid oskasid teha isegi keerulisi silmaoperatsioone.",
        correct: true,
        image: images.scribe,
        explanation: "Egiptuse teadus oli praktilise suunitlusega. Arstiteaduses olid nad v√§ga edasij√µudnud, osates teha keerulisi operatsioone. Nad m√µistsid, et haiguste t√µrjel pole esmat√§htsad palved, vaid √µige diagnoos ja kohane ravi.",
        treasure: "lotus"
      },
      {
        id: 'new_delta_5', type: 'written', location: 'delta', difficulty: 3,
        question: "Kuidas nimetati egiptlaste praktilist teadust, mis t√§hendas kreeka keeles 'maam√µ√µtmine'?",
        answer: ["geomeetria"],
        image: images.egypt_map,
        explanation: "Geomeetria tekkis Egiptuses vajadusest p√§rast iga-aastast Niiluse √ºleujutust p√µllupiirid uuesti paika panna. Nad oskasid arvutada kolmnurga ja ringi pindala (tundes arvu pii) ning p√ºramiidi ruumala."
      },

      // ===================== GIZA & MEMPHIS (Old Kingdom & Society) =====================
      {
        id: 'new_memphis_1', type: 'choice', location: 'memphis', difficulty: 1,
        question: "Mida t√§hendab egiptuse keeles s√µna 'vaarao'?",
        options: ["Jumalik valitseja", "Suur maja", "P√ºha kuningas", "P√§ikese poeg"],
        correct: 1,
        image: images.tutankhamun,
        explanation: "S√µna 'vaarao' t√§hendas algselt 'suur maja', viidates kuninga paleele. Hiljem sai sellest valitseja tiitel. Vaaraod peeti seadusandjaks, s√µjav√§e √ºlemjuhatajaks ja ainukeseks vahendajaks inimeste ja jumalate vahel.",
        wrongFeedback: {
          0: "Kuigi vaaraod peeti jumalikuks, pole see s√µna otsene t√§hendus.",
          2: "Kuningas oli vaarao s√ºnon√º√ºm, kuid 'vaarao' t√§hendus peitub ehitises.",
          3: "P√§ikese poeg (Sa-Ra) oli √ºks valitseja paljudest tiitlitest, kuid mitte 'vaarao' t√§hendus."
        }
      },
      {
        id: 'new_memphis_2', type: 'choice', location: 'memphis', difficulty: 2,
        question: "Kuhu rajas kuningas Menes Egiptuse uue pealinna Memphise?",
        options: ["Niiluse deltasse", "Alam- ja √úlem-Egiptuse piirialale", "Kuningate orgu", "Nuubia piirile"],
        correct: 1,
        image: images.narmer,
        explanation: "Umbes 3000 aastat eKr liitsid √úlem-Egiptuse valitsejad kogu maa √ºhtseks riigiks. P√§rimuse j√§rgi tegi seda kuningas Menes, kes rajas strateegiliselt t√§htsale Alam- ja √úlem-Egiptuse piirialale uue pealinna Memphise.",
        wrongFeedback: {
          0: "Delta asub p√µhjas, kuid Memphis rajati just kahe piirkonna √ºhenduskohta.",
          2: "Kuningate org asub Teeba l√§hedal ja muutus t√§htsaks alles Uue riigi ajal.",
          3: "Nuubia piir asub kaugel l√µunas, Memphis aga riigi keskme l√§hedal."
        }
      },
      {
        id: 'new_memphis_3', type: 'choice', location: 'memphis', difficulty: 2,
        question: "Kui suure osa oma saagist pidi talupoeg tavaliselt maksudena riigile loovutama?",
        options: ["K√ºmnendiku", "Umbes poole", "Maksud puudusid", "Kogu saagi"],
        correct: 1,
        image: images.farmers,
        explanation: "Enamik egiptlasi olid talupojad, kes harisid riigi v√µi √ºlikute maid. Kirjutajad hindasid vilja valmimise ajal oodatava saagi ja kehtestasid maksum√§√§ra, mis oli tavaliselt umbes pool saagist. Kohustuse t√§itmata j√§tmisel v√µis oodata piitsutamine v√µi orjus.",
        wrongFeedback: {
          0: "K√ºmnendik on ajalooliselt tuntud kui 'kirikumaks', kuid Egiptuses oli koormis m√§rksa r√§ngem.",
          2: "Riik p√ºsiski talupoegade maksudest ja t√∂√∂kohustusest, maksud olid v√§ltimatud.",
          3: "Kogu saagi loovutamine t√§hendaks n√§lga; pool j√§eti talupojale endale elluj√§√§mises."
        }
      },
      {
        id: 'new_memphis_4', type: 'identify', location: 'memphis', difficulty: 1,
        question: "Milline √ºhiskonnakiht asus vaarao j√§rel j√§rgmisena v√µimup√ºramiidi tipus?",
        displayImage: images.scribe,
        options: ["S√µdurid", "Preestrid ja √ºlikud", "K√§sit√∂√∂lised", "Talupojad"],
        correct: 1,
        image: images.scribe,
        explanation: "Egiptuse √ºhiskond oli rangelt hierarhiline. Tipus seisis vaarao, kelle v√µim tugines suhteliselt kitsale √ºlikkonnale, kelle seast p√§rinesid k√µrgeimad riigiametnikud ja preestrid. Nad olid sageli valitsejaga sugulus- v√µi abieluseadmetes.",
        wrongFeedback: {
          0: "S√µdurid olid olulised, kuid asusid hierarhias √ºlikutest ja preestritest madalamal.",
          2: "K√§sit√∂√∂lised asid vabad inimesed, kuid nende sotsiaalne positsioon oli madal.",
          3: "Talupojad moodustasid √ºhiskonna suurima osa, kuid asusid p√ºramiidi p√µhjas."
        }
      },
      {
        id: 'new_memphis_5', type: 'truefalse', location: 'memphis', difficulty: 2,
        question: "Egiptuse k√§sit√∂√∂lised said oma t√∂√∂ eest palka rahas.",
        correct: false,
        image: images.workers,
        explanation: "Raha Vana-Egiptuses ei tuntud. K√§sit√∂√∂listele ja ka teistele t√∂√∂tajatele tasuti tarbeesemete ning toiduga (vili, √µlu, riie). See oli natuuramajandus, kus v√§√§rtust m√µ√µdeti kaubavahetusega.",
        treasure: "scarab"
      },

      // ===================== GIZA (Pyramids) =====================
      {
        id: 'new_giza_1', type: 'written', location: 'giza', difficulty: 2,
        question: "Kes oli see vaarao, kellele ehitati Sakkara astmikp√ºramiid u 2700 eKr?",
        answer: ["d≈æoser", "djoser"],
        image: images.step_pyramid,
        explanation: "Varaseim suur p√ºramiid oli vaarao D≈æoseri astmikp√ºramiid Sakkaras, mille ehitas arhitekt Imhotep. See meenutas hiiglaslikku treppi taevasse ja t√§histas uue ajastu algust ehituskunstis.",
        treasure: "step_pyramid"
      },
      {
        id: 'new_giza_2', type: 'choice', location: 'giza', difficulty: 2,
        question: "Mida s√ºmboliseeris egiptlastele p√ºramiidi kuju lisaks hauale?",
        options: ["M√§ge", "P√§ikese ja p√§ikesekiiri", "Lootos√µit", "J√µge"],
        correct: 1,
        image: images.giza,
        explanation: "P√ºramiide v√µis m√µista kui p√§ikese s√ºmboleid ja nende servi kui kaldteid, mida m√∂√∂da p√§ikesejumala poeg (vaarao) taevasse t√µusis. See r√µhutas valitseja jumalikkust ja tagas maailmakorra toimimise.",
        wrongFeedback: {
          0: "Kuigi p√ºramiid meenutab m√§ge, oli religioosne t√§hendus seotud p√§ikese ja taevasse t√µusmisega.",
          2: "Lootos oli elu s√ºmbol, kuid p√ºramiidi kuju s√ºmboliseeris p√§ikesekiiri (benben-kivi).",
          3: "J√µge s√ºmboliseerisid siksakilised jooned, p√ºramiid kuulus kindlalt maapinnale ja taevasse suunatud tippu."
        }
      },
      {
        id: 'new_giza_3', type: 'choice', location: 'giza', difficulty: 2,
        question: "Millal ehitati Giza suured p√ºramiidid (Khufu, Khafre, Menkaure)?",
        options: ["3000‚Äì2900 eKr", "2600‚Äì2500 eKr", "1500‚Äì1400 eKr", "500 eKr"],
        correct: 1,
        image: images.giza,
        explanation: "Vana riigi ajal (ajavahemikus 2600‚Äì2500 eKr) ehitati Memphise l√§hedale Gizasse suurimad p√ºramiidid. Nendest Cheopsi (Khufu) p√ºramiid on √ºks seitsmest maailmaimest.",
        wrongFeedback: {
          0: "See on riigi √ºhendamise aeg, mil ehitati pigem mastabaid, mitte suuri p√ºramiide.",
          2: "See on Uue riigi aeg, mil eelistati kaljuhaudu Kuningate orus.",
          3: "Sel ajal oli Egiptus juba languses v√µi v√µ√µrv√µimu all, p√ºramiide enam ei ehitatud."
        }
      },

      // ===================== AMARNA (Religion Revolution) =====================
      {
        id: 'new_amarna_1', type: 'written', location: 'amarna', difficulty: 2,
        question: "Mis nime v√µttis Amenhotep IV, et austada ainujumalat Atonit?",
        answer: ["ehnaton", "akhenaten"],
        image: images.akhenaten,
        explanation: "Vaarao Amenhotep IV viis l√§bi usureformi, t√µstes peajumalaks p√§ikeseketta Atoni. Ta muutis oma nime Ehnatoniks ('Atonile kasulik') ja rajas uue pealinna Ahetatoni.",
        treasure: "sun_disk"
      },
      {
        id: 'new_amarna_2', type: 'choice', location: 'amarna', difficulty: 3,
        question: "Kuhu rajas Ehnaton oma uue pealinna Ahetatoni?",
        options: ["Niiluse deltasse", "Teeba ja Memphise vahele", "Sudaani piirile", "Punase mere √§√§rde"],
        correct: 1,
        image: images.amarna,
        explanation: "P√§√§semaks Amoni preestrite m√µju alt Teebas, rajas Ehnaton t√§iesti uue pealinna Ahetatoni ('Atoni silmapiir') Teeba ja Memphise vahele, kus varem polnud √ºhtegi p√ºhamut.",
        wrongFeedback: {
          0: "Deltas puudus vajalik eraldatus preestritest ja see oli liiga kauge keskmest.",
          2: "Sudaani piir (Nuubia) oli vallutatud ala, kuid pealinn pidi j√§√§ma Egiptuse s√ºdamesse.",
          3: "Egiptuse tsivilisatsioon oli suunatud Niilusele, mitte Punasele merele."
        }
      },
      {
        id: 'new_amarna_3', type: 'identify', location: 'amarna', difficulty: 1,
        question: "Kes on pildil olev kuulus kuninganna, Ehnatoni abikaasa?",
        displayImage: images.nefertiti,
        options: ["Nofretete", "Kleopatra", "Hat≈°epsut", "Nefertari"],
        correct: 0,
        explanation: "See on Nofretete (Nefertiti), Ehnatoni abikaasa ja kaasvalitseja. Teda kujutati kunstis sageli vaarao k√µrval v√µrdsena, mis oli tollal ebatavaline.",
        wrongFeedback: {
          1: "Kleopatra valitses sajandeid hiljem, Ptolemaioste ajal.",
          2: "Hat≈°epsut oli k√ºll kuulus naisvaarao, kuid elas ammu enne Amarna perioodi.",
          3: "Nefertari oli Ramses II armastatud peanaine, mitte Ehnatoni oma."
        }
      },
      {
        id: 'new_amarna_4', type: 'truefalse', location: 'amarna', difficulty: 2,
        question: "Amarna ajastu kunstis kujutati vaarao perekonda ebatavaliselt loomulikult ja inimlikult.",
        correct: true,
        image: images.akhenaten,
        explanation: "Amarna kunst murdis vanad reeglid. Vaaraod kujutati esimest korda koos oma naise ja t√ºtardega hellades ning argistes stseenides, mitte ainult kangete ja jumalikena.",
        treasure: "bust"
      },
      {
        id: 'new_amarna_5', type: 'fillin', location: 'amarna', difficulty: 2,
        question: "Ehnaton austas ainujumalat nimega _____, keda kujutati p√§ikesekettana.",
        answer: ["aton", "aten"],
        image: images.aten,
        explanation: "Atonit kujutati p√§ikesekettana, mille kiired l√µppesid v√§ikeste k√§tega, mis ulatasid vaaraole elus√ºmbolit - ankh'i."
      },

      // ===================== ABYDOS (Afterlife & Osiris) =====================
      // ===================== ABYDOS (Afterlife & Gods) =====================
      {
        id: 'new_abydos_1', type: 'choice', location: 'abydos', difficulty: 2,
        question: "Miks asus egiptlaste uskumuste kohaselt surnute riik l√§√§nes?",
        options: ["Sest seal oli meri", "Sest seal loojus p√§ike", "Sest seal oli v√§hem inimesi", "Sest seal oli k√µrb"],
        correct: 1,
        image: images.osiris,
        explanation: "Egiptlased seostasid p√§ikese igap√§evast teekonda eluringiga. P√§ikese s√ºnnikoht oli idas ja loojumispaik l√§√§nes t√§histas surma ning p√§√§su allmaailma. Seet√µttu rajati enamik hauakambreid Niiluse l√§√§nekaldale.",
        wrongFeedback: {
          0: "Meri asus p√µhjas ja idas, kuid l√§√§nesuund oli seotud just p√§ikese loojumisega.",
          2: "Inimeste arv polnud oluline, m√§√§rav oli religioosne s√ºmbolism.",
          3: "K√µrb √ºmbritses Egiptust igast k√ºljest, kuid l√§√§s oli 'surnute pool' p√§ikese t√µttu."
        }
      },
      {
        id: 'new_abydos_2', type: 'choice', location: 'abydos', difficulty: 3,
        question: "Mida t√§histas egiptlaste jaoks 'S√ºdame kaalumise tseremoonia' allmaailmas?",
        options: ["Inimese kehakaalu kontrolli", "Kohtum√µistmist elus tehtud tegude √ºle", "Muumia ettevalmistamist", "Jumalate toitmist"],
        correct: 1,
        image: images.weighing_heart,
        explanation: "Osirise kohtus kaaluti surnu s√ºdant t√µe jumalanna Maati sule vastu. Kui s√ºda oli rasketest pattudest kerge, p√§√§ses hing igavese ellu (Earu v√§ljadele). Kui s√ºda oli sulest raskem, neelas selle koletis Ammut.",
        wrongFeedback: {
          0: "See polnud f√º√ºsiline kaalumine, vaid moraalne and religioosne kohtum√µistmine.",
          2: "Muumia valmistati maa peal enne matuseid, tseremoonia toimus juba teispoolsuses.",
          3: "Toiduohvreid toodi templites ja haudades, kohtus aga otsustati hinge saatus."
        }
      },
      {
        id: 'new_abydos_3', type: 'written', location: 'abydos', difficulty: 2,
        question: "Kes oli ≈°aakalipeaga jumal, kes valvas palsameerimist ja juhatas surnuid kohtusse?",
        answer: ["anubis"],
        image: images.anubis,
        explanation: "Anubis oli muumiaid kaitsev jumal. Just tema oli see, kes m√ºtoloogia j√§rgi valmistas esimese muumia (Osirise) ja valvas seej√§rel k√µiki surnuaedu.",
        treasure: "anubis"
      },
      {
        id: 'new_abydos_4', type: 'truefalse', location: 'abydos', difficulty: 1,
        question: "Palsameerimise k√§igus eemaldati kehast k√µik siseelundid, kaasa arvatud s√ºda.",
        correct: false,
        image: images.canopic_jars,
        explanation: "Enamik siseelundeid eemaldati ja pandi kanoopidesse, kuid s√ºda j√§eti kehasse. Egiptlased uskusid, et s√ºda on m√µistuse ja tunnete asupaik ning seda l√§heb vaja allmaailma kohtus.",
        treasure: "heart"
      },
      {
        id: 'new_abydos_5', type: 'fillin', location: 'abydos', difficulty: 2,
        question: "Kuidas nimetati tekstide kogu, mis andis surnule kaasa loitse ja juhiseid allmaailmas toimetulekuks?",
        answer: ["surnuteraamat"],
        image: images.book_dead,
        explanation: "Surnuteraamat sisaldas vajalikke loitse, et peletada koletisi ja osata vastata jumalate k√ºsimustele allmaailma v√§ravates."
      },

      // ===================== TEEBA (New Kingdom & Gods) =====================
      // ===================== TEEBA (New Kingdom & Power) =====================
      {
        id: 'new_teeba_1', type: 'choice', location: 'teeba', difficulty: 2,
        question: "Millise vaarao ajal saavutas Egiptuse suurriik oma suurima ulatuse?",
        options: ["Ramses II", "Thutmosis III", "Hat≈°epsut", "Ehnaton"],
        correct: 1,
        image: images.luxor,
        explanation: "Uue riigi ajal sai Egiptusest t√µeline suurriik. Oma v√µimsuse tipu ja suurima ulatuse saavutas see vaarao Thutmosis III ajal (valitses 1468‚Äì1436 eKr), kes alistas S√º√ºria ja Palestiina.",
        wrongFeedback: {
          0: "Ramses II oli k√ºll v√§ga v√µimas ja ehitas palju, kuid territoorium ei √ºletanud Thutmosis III oma.",
          2: "Hat≈°epsut keskendus pigem kaubandusele ja ehitustele kui maadevallutustele.",
          3: "Ehnatoni ajal kaotas Egiptus hoopis palju oma v√§lispoliitilisest m√µjust ususegaduste t√µttu."
        }
      },
      {
        id: 'new_teeba_2', type: 'written', location: 'teeba', difficulty: 3,
        question: "Kellega s√µlmis Ramses II p√§rast Kadeshi lahingut maailma esimese rahulepingu?",
        answer: ["hetiitidega", "hetiidi kuningaga"],
        image: images.ramses_ii,
        explanation: "P√§rast raskeid ja veriseid lahinguid s√µlmis Ramses II hetiitidega rahulepingu, millega jaotati m√µjupiirkonnad: Palestiina j√§i Egiptusele, P√µhja-S√º√ºria aga hetiitidele."
      },
      {
        id: 'new_teeba_3', type: 'identify', location: 'teeba', difficulty: 2,
        question: "Milline naine valitses Egiptust vaaraona, kandes isegi valehabet?",
        displayImage: images.hatshepsut,
        options: ["Hat≈°epsut", "Kleopatra", "Nofretete", "Tiyi"],
        correct: 0,
        explanation: "Hat≈°epsut oli √ºks v√§heseid naisi, kes ametlikult vaaraoks kuulutati. Ta eelistas rahuaega, arendas kaubandust (nt ekspeditsioon Punti maale) ja p√ºstitas hiiglaslikke obeliske.",
        wrongFeedback: {
          1: "Kleopatra oli valitseja, kuid tema ei kandnud vaarao traditsioonilisi tunnuseid nagu valehabe sel viisil.",
          2: "Nofretete oli kaasvalitseja, kuid pole kindel, kas ta kunagi vaarao tiitlit √ºksi kandis.",
          3: "Tiyi oli Amenhotep III naine ja v√§ga m√µjukas, kuid polnud ametlikult vaarao."
        }
      },
      {
        id: 'new_teeba_4', type: 'truefalse', location: 'teeba', difficulty: 2,
        question: "Uue riigi ajal loobusid egiptlased p√ºramiidide ehitamisest hauar√∂√∂vlite hirmu t√µttu.",
        correct: true,
        image: images.valley_kings,
        explanation: "Kuna p√ºramiidid torkasid kaugele silma, r√º√ºstati need kiiresti. Uue riigi vaaraod otsustasid end matta peidetud ja raskesti ligip√§√§setavasse kohta - Kuningate orgu Teeba l√§hedal.",
        treasure: "feather"
      },
      {
        id: 'new_teeba_5', type: 'choice', location: 'teeba', difficulty: 1,
        question: "Kes oli Uue riigi peajumal, keda austati Teebas?",
        options: ["Amon-Ra", "Osiris", "Anubis", "Bes"],
        correct: 0,
        image: images.ra,
        explanation: "Amon oli algselt Teeba piirkonna jumal, kuid Uue riigi ajal √ºhendati ta p√§ikeseketta Raga, moodustades Amon-Ra - jumalate kuninga."
      },

      // ===================== KARNAK (Temples & Rituals) =====================
      {
        id: 'new_karnak_1', type: 'choice', location: 'karnak', difficulty: 2,
        question: "Milline oli Egiptuse templite peamine √ºlesanne?",
        options: ["Rahva kogunemispaik", "Jumala maapealne kodu", "Kool lastele", "Turg"],
        correct: 1,
        image: images.karnak,
        explanation: "Templit ei peetud mitte kogunemispaigaks, vaid jumala elupaigaks maa peal. Ainult vaarao ja preestrid tohtisid siseneda templi k√µige p√ºhamasse ossa, et hoolitseda jumalakuju eest (teda pesta, riietada ja toita).",
        wrongFeedback: {
          0: "Erinevalt t√§nap√§eva kirikutest ei k√§inud rahvas templi sees palvetamas; nad ootasid √µues.",
          2: "Kuigi templite juures v√µisid olla koolid (elumaja), oli templi p√µhi√ºlesanne usuline teenistus.",
          3: "Turg v√µis olla templi m√º√ºride taga, kuid tempel ise oli p√ºha ja puutumatu paik."
        }
      },
      {
        id: 'new_karnak_2', type: 'written', location: 'karnak', difficulty: 2,
        question: "Kuidas nimetatakse hiiglaslikku, √ºheks kiviplokist raiutud ja kullatud tipuga kivisammast?",
        answer: ["obelisk"],
        image: images.karnak,
        explanation: "Obeliskid s√ºmboliseerisid tardunud p√§ikesekiirt. Need p√ºstitati tavaliselt paarikaupa templite sissep√§√§sude juurde, et austada p√§ikesejumalat. Suurimad neist kaalusid sadu tonne.",
        treasure: "column"
      },
      {
        id: 'new_karnak_3', type: 'identify', location: 'karnak', difficulty: 2,
        question: "Kes oli see tarkuse, teaduse ja kirjakunsti jumal, keda kujutati ibis-linnu peaga?",
        displayImage: images.thoth,
        options: ["Thot", "Anubis", "Horus", "Ra"],
        correct: 0,
        image: images.thoth,
        explanation: "Thot oli jumalate kirjutaja and maagia valdaja. Arvati, et just tema andis inimestele hierogl√º√ºfid ja √µpetas neile astronoomiat ning matemaatikat.",
        wrongFeedback: {
          1: "Anubis on ≈°aakalipeaga ja seotud surnutega, mitte kirjakunstiga.",
          2: "Horus on pistrikupeaga ja s√ºmboliseerib taevast ning kuningav√µimu.",
          3: "Ra on p√§ikesejumal, keda kujutati tihti kullipeaga ja p√§ikesekettaga."
        }
      },
      {
        id: 'new_karnak_4', type: 'choice', location: 'karnak', difficulty: 1,
        question: "Milline lind s√ºmboliseeris taevast ja kuningav√µimu ning oli vaarao kaitsja?",
        options: ["Ibis", "Pistrik", "Hani", "Pelikan"],
        correct: 1,
        image: images.horus,
        explanation: "Pistrikkujuline jumal Horus oli vaarao taevane v√µrdkuju. Iga elav vaarao kandis tiitlit 'Elav Horus'.",
        treasure: "eye"
      },
      {
        id: 'new_karnak_5', type: 'fillin', location: 'karnak', difficulty: 3,
        question: "Milline mardikas s√ºmboliseeris egiptlastele p√§ikese liikumist ja uuestis√ºndi?",
        answer: ["skarabeus", "scarab"],
        image: images.scarab,
        explanation: "Skarabeus (sitamardikas) veerev s√µnnikupall meenutas egiptlastele p√§ikeseketta liikumist √ºle taeva. Teda peeti uue elu ja √µnne s√ºmboliks.",
        treasure: "scarab_amulet"
      },

      // ===================== KUNINGATE ORG (Tombs) =====================
      // ===================== KUNINGATE ORG (Tombs) =====================
      {
        id: 'new_valley_1', type: 'choice', location: 'kuningate_org', difficulty: 2,
        question: "Miks asutused p√ºramiidid Uue riigi ajal Kuningate oruga?",
        options: ["P√ºramiidid olid liiga v√§iksed", "Kivid said otsa", "R√º√ºstajate v√§ltimiseks ja kulude s√§√§stmiseks", "Usk keelustas ehitamise"],
        correct: 2,
        image: images.valley_kings,
        explanation: "Suurte p√ºramiidide rajamine oli riigile kurnav ja need olid hauar√º√ºstajate jaoks liiga m√§rgatavad. Uue riigi ajal asendati need kaljusse raiutud peidetud kambertega Kuningate orus Teeba l√§hedal.",
        wrongFeedback: {
          0: "P√ºramiidid olid hiiglaslikud, nende maht poleks kunagi probleemiks saanud.",
          1: "Paekivi oli Egiptuses piisavalt, loobutid just praktilistel p√µhjustel.",
          3: "Usk muutus (Amon-Ra), kuid matmiskombed muutusid just r√º√ºstamiste t√µttu."
        }
      },
      {
        id: 'new_valley_2', type: 'choice', location: 'kuningate_org', difficulty: 1,
        question: "Millise vaarao haud avastati 1922. aastal peaaegu puutumatuna?",
        options: ["Ramses II", "Ehnaton", "Tutanhamon", "Sethi I"],
        correct: 2,
        image: images.tutankhamun,
        explanation: "Tutanhamon oli noorelt surnud vaarao, kelle haud ununes r√º√ºstajate poolt. See andis arheoloogidele hindamatut teavet Egiptuse matmiskommete ja kunsti kohta.",
        treasure: "mask"
      },
      {
        id: 'new_valley_3', type: 'written', location: 'kuningate_org', difficulty: 2,
        question: "Kes oli see Briti arheoloog, kes leidis Tutanhamoni haua?",
        answer: ["howard carter"],
        image: images.howard_carter,
        explanation: "Howard Carter otsis Kuningate orus Tutanhamoni hauda aastaid. Tema avastus 1922. aastal on √ºks maailma kuulsamaid arheoloogilisi leide."
      },
      {
        id: 'new_valley_4', type: 'truefalse', location: 'kuningate_org', difficulty: 2,
        question: "Tutanhamon oli √ºks Vana-Egiptuse v√µimsamaid ja pikaajalisemaid valitsejaid.",
        correct: false,
        image: images.tutankhamun,
        explanation: "Vastupidi ‚Äì Tutanhamon valitses vaid l√ºhikest aega ja suri v√§ga noorelt (umbes 19-aastaselt). Ta sai kuulsaks ainult t√§nu sellele, et tema haud s√§ilis r√º√ºstamata.",
        treasure: "crook"
      },
      {
        id: 'new_valley_5', type: 'choice', location: 'kuningate_org', difficulty: 2,
        question: "Mida t√§histas Kuningate oru asukoht Niiluse l√§√§nekaldal?",
        options: ["P√§ikeset√µusu ja elu", "P√§ikeseloojangut ja surnute riiki", "P√µhjasuunda", "Viljakat maad"],
        correct: 1,
        image: images.valley_kings,
        explanation: "Kuna p√§ike loojus l√§√§nes, peeti seda suunda p√§√§suks teispoolsusse. Seet√µttu asusid peaaegu k√µik suured Egiptuse nekropolid (surnute linnad) j√µe l√§√§nekaldal.",
        wrongFeedback: {
          0: "Idakallas oli elavate p√§ralt, kus p√§ike t√µusis ja elu algas.",
          2: "Asukoht ei t√§histanud p√µhjasuunda, vaia p√§ikese vertikaalset teekonda.",
          3: "L√§√§nekallas oli sageli just k√µrbe algus, kus p√µlluharimine polnud v√µimalik, sobides seega matmispaigaks."
        }
      },

      // ===================== ABU SIMBEL (Ramses & End) =====================
      // ===================== ABU SIMBEL & FINAL ERA (Ramses & End) =====================
      {
        id: 'new_abu_1', type: 'choice', location: 'abu_simbel', difficulty: 2,
        question: "Kes lasi Abu Simbeli templid kaljusse raiuda kui m√§lestusm√§rgi endale ja kuninganna Nefertarile?",
        options: ["Tutanhamon", "Ramses II", "Ehnaton", "Hat≈°epsut"],
        correct: 1,
        image: images.abu_simbel,
        explanation: "Ramses II valitses Egiptust 66 aastat (1279‚Äì1213 eKr). Ta ehitas rohkem templeid ja p√ºstitas rohkem kujusid kui √ºkski teine vaarao, olles tuntuim ja v√§gevaim Uue riigi valitseja.",
        wrongFeedback: {
          0: "Tutanhamoni ehitusp√§rand on tema l√ºhikese valitsuse t√µttu v√§ike.",
          2: "Ehnaton ehitas peamiselt oma uut pealinna, Abu Simbel asub aga kaugel l√µunas Nuubias.",
          3: "Hat≈°epsut oli Ramsesest varem ja ehitas oma kuulsa templi Deir al-Bahrisse."
        }
      },
      {
        id: 'new_abu_2', type: 'truefalse', location: 'abu_simbel', difficulty: 1,
        question: "Abu Simbeli templid on t√§nap√§eval t√§pselt samas kohas, kuhu Ramses II need algselt lasi ehitada.",
        correct: false,
        image: images.abu_simbel,
        explanation: "1960ndatel aastatel t√µsteti Abu Simbeli templid kivi-kivi haaval k√µrgemale k√ºnkale. See oli hiigelprojekt, et p√§√§sta need uputamise eest p√§rast Assuani paisu valmimist.",
        treasure: "statue"
      },
      {
        id: 'new_abu_3', type: 'fillin', location: 'abu_simbel', difficulty: 2,
        question: "Millise suurriigi k√§tte langes Egiptus l√µplikult 525. aastal eKr?",
        answer: ["p√§rsia", "p√§rslaste"],
        image: images.abu_simbel,
        explanation: "P√§rsia sissetung l√µpetas iseseisva Egiptuse valitsejate aja. Hiljem tulid Aleksander Suure makedoonlased ja l√µpuks Rooma keisririik."
      },
      {
        id: 'new_abu_4', type: 'choice', location: 'abu_simbel', difficulty: 1,
        question: "Milline ajaloolane nimetas Egiptust 'Niiluse kingituseks'?",
        options: ["Herodotos", "Sokrates", "Julius Caesar", "Napoleon"],
        correct: 0,
        image: images.nile,
        explanation: "Vana-Kreeka ajaloolane Herodotos m√§rkas 5. sajandil eKr, et ilma Niiluse viljaka mudata ja regulaarse √ºleujutuseta oleks Egiptus vaid elutu k√µrb."
      },
      {
        id: 'new_abu_5', type: 'written', location: 'abu_simbel', difficulty: 3,
        question: "Kes oli see prantslane, kes de≈°ifreeris Rosette'i kivi abil hierogl√º√ºfid 1822. aastal?",
        answer: ["jean-fran√ßois champollion", "champollion"],
        image: images.rosetta,
        explanation: "Champollion m√µistis, et hierogl√º√ºfid ei t√§hista ainult m√µisteid, vaid ka h√§√§likuid. See oli kaasaegse eg√ºptoloogia s√ºnnihetk.",
        treasure: "rosetta"
      }
    ];

    // ========== AARDED ==========
    const treasures = {
      papyrus: { name: "Pap√º√ºrusrull", icon: "üìú" }, lotus: { name: "Lootos√µis", icon: "ü™∑" },
      crown: { name: "Kahekordne kroon", icon: "üëë" }, crook: { name: "Vaarao kepp", icon: "ü™ù" },
      statue: { name: "Abu Simbeli kuju", icon: "üóø" }, mask: { name: "Tutanhamoni mask", icon: "üò∂" },
      sun_disk: { name: "Atoni ketas", icon: "‚òÄÔ∏è" }, bust: { name: "Nofretete b√ºst", icon: "üë∏" },
      feather: { name: "Maati sulg", icon: "ü™∂" }, scarab: { name: "Skarabeus", icon: "ü™≤" },
      djed: { name: "Djed-sammas", icon: "üèõÔ∏è" }, anubis: { name: "Anubise kuju", icon: "üê∫" },
      eye: { name: "Horose silm", icon: "üëÅÔ∏è" }, mummy: { name: "Muumia", icon: "üßü" },
      sarcophagus: { name: "Sarkofaag", icon: "‚ö∞Ô∏è" }, heart: { name: "S√ºdame amulett", icon: "‚ù§Ô∏è" },
      pyramid: { name: "P√ºramiid", icon: "üî∫" }, hieroglyph: { name: "Hierogl√º√ºfid", icon: "ìÄÄ" },
      temple: { name: "Templi mudel", icon: "üèõÔ∏è" }, step_pyramid: { name: "Astmikp√ºramiid", icon: "üìê" },
      rosetta: { name: "Rosette'i kivi", icon: "ü™®" }, column: { name: "Karnaki sammas", icon: "üèõÔ∏è" },
      cat: { name: "Kassimuumia", icon: "üê±" }, scarab_amulet: { name: "Skarabeuse amulett", icon: "üíé" }
    };

    // ========== ASUKOHAD ==========
    const locations = [
      { id: 'delta', name: 'Niiluse delta', icon: 'üåä', x: 50, y: 10 },
      { id: 'giza', name: 'Giza', icon: 'üî∫', x: 45, y: 20 },
      { id: 'memphis', name: 'Memphis', icon: 'üèõÔ∏è', x: 48, y: 28 },
      { id: 'amarna', name: 'Amarna', icon: '‚òÄÔ∏è', x: 55, y: 42 },
      { id: 'abydos', name: 'Abydos', icon: '‚ö±Ô∏è', x: 45, y: 52 },
      { id: 'teeba', name: 'Teeba', icon: 'üè∫', x: 52, y: 62 },
      { id: 'karnak', name: 'Karnak', icon: 'üåô', x: 55, y: 70 },
      { id: 'kuningate_org', name: 'Kuningate org', icon: 'üëë', x: 48, y: 78 },
      { id: 'abu_simbel', name: 'Abu Simbel', icon: 'üóø', x: 52, y: 90 }
    ];

    // ========== PEAKOMPONENT ==========
    const NiiluseTeekond = () => {
      const { playSound, soundEnabled, setSoundEnabled, initAudio } = useSounds();
      const [playerName, setPlayerName] = useState('');
      const [currentLocation, setCurrentLocation] = useState(0);
      const [lives, setLives] = useState(3);
      const [hints, setHints] = useState(3);
      const [streak, setStreak] = useState(0);
      const [bestStreak, setBestStreak] = useState(0);
      const [score, setScore] = useState(0);
      const [collectedTreasures, setCollectedTreasures] = useState([]);
      const [factCards, setFactCards] = useState([]);
      const [answeredQuestions, setAnsweredQuestions] = useState(new Set());
      const [unlockedAchievements, setUnlockedAchievements] = useState([]);
      const [stats, setStats] = useState({ totalCorrect: 0, totalAnswered: 0, perfectLocations: 0, recoveries: 0, trueFalseCorrect: 0, gameCompleted: false });
      const [activeEvent, setActiveEvent] = useState(null);
      const [eventCounter, setEventCounter] = useState(0);
      const [shield, setShield] = useState(false);
      const [freeHint, setFreeHint] = useState(false);
      const [showEventModal, setShowEventModal] = useState(false);
      const [pendingEvent, setPendingEvent] = useState(null);
      const [currentQuestion, setCurrentQuestion] = useState(null);
      const [questionQueue, setQuestionQueue] = useState([]);
      const [userAnswer, setUserAnswer] = useState('');
      const [selectedOption, setSelectedOption] = useState(null);
      const [showResult, setShowResult] = useState(false);
      const [isCorrect, setIsCorrect] = useState(false);
      const [showHint, setShowHint] = useState(false);
      const [locationMistakes, setLocationMistakes] = useState(0);
      const [screen, setScreen] = useState('start');
      const [showTreasureRoom, setShowTreasureRoom] = useState(false);
      const [showFactCards, setShowFactCards] = useState(false);
      const [showAchievements, setShowAchievements] = useState(false);
      const [notification, setNotification] = useState(null);
      const [fallingBack, setFallingBack] = useState(false);
      const [newAchievement, setNewAchievement] = useState(null);

      const normalizeAnswer = (answer) => answer.toLowerCase().trim().replace(/[.,!?]/g, '').replace(/\s+/g, ' ');
      const checkWrittenAnswer = (userAns, correctAnswers) => correctAnswers.some(ans => normalizeAnswer(ans) === normalizeAnswer(userAns));
      const getQuestionsForLocation = (locationId) => {
        let available = allQuestions.filter(q => q.location === locationId && !answeredQuestions.has(q.id));
        if (available.length < 5) {
          // Kui k√ºsimused otsas, resetime selle asukoha vastatud k√ºsimused
          const resetIds = allQuestions.filter(q => q.location === locationId).map(q => q.id);
          setAnsweredQuestions(prev => {
            const next = new Set(prev);
            resetIds.forEach(id => next.delete(id));
            return next;
          });
          return allQuestions.filter(q => q.location === locationId);
        }
        return available;
      };
      const showNotification = (message, type = 'info') => { setNotification({ message, type }); setTimeout(() => setNotification(null), 3000); };

      const checkAchievements = useCallback((newStats) => {
        const statsWithCounts = { ...newStats, treasureCount: collectedTreasures.length, factCount: factCards.length };
        achievements.forEach(achievement => {
          if (!unlockedAchievements.includes(achievement.id) && achievement.condition(statsWithCounts)) {
            setUnlockedAchievements(prev => [...prev, achievement.id]);
            setNewAchievement(achievement);
            playSound('achievement');
            setTimeout(() => setNewAchievement(null), 3000);
          }
        });
      }, [unlockedAchievements, collectedTreasures.length, factCards.length, playSound]);

      const triggerRandomEvent = useCallback(() => {
        if (Math.random() < 0.15) {
          const event = randomEvents[Math.floor(Math.random() * randomEvents.length)];
          setPendingEvent(event);
          setShowEventModal(true);
          playSound('event');
        }
      }, [playSound]);

      const applyEvent = (event) => {
        setShowEventModal(false);
        switch (event.effect) {
          case 'doublePoints': setActiveEvent({ ...event, remaining: event.duration }); setEventCounter(event.duration); break;
          case 'extraLife': setLives(prev => Math.min(prev + 1, 5)); break;
          case 'freeHint': setFreeHint(true); break;
          case 'shield': setShield(true); break;
          case 'losePoints': setScore(prev => Math.max(0, prev - 50)); break;
        }
        setPendingEvent(null);
      };

      const shuffleQuestions = (questions, count = 6) => {
        const shuffled = [...questions].sort(() => Math.random() - 0.5);
        return shuffled.slice(0, Math.min(count, shuffled.length)).sort((a, b) => a.difficulty - b.difficulty);
      };

      const startGame = async () => {
        if (!playerName.trim()) { showNotification('Palun sisesta oma nimi!', 'warning'); return; }
        await initAudio();
        playSound('click');
        setCurrentLocation(0); setLives(3); setHints(3); setStreak(0); setBestStreak(0); setScore(0);
        setCollectedTreasures([]); setFactCards([]); setAnsweredQuestions(new Set()); setUnlockedAchievements([]);
        setStats({ totalCorrect: 0, totalAnswered: 0, perfectLocations: 0, recoveries: 0, trueFalseCorrect: 0, gameCompleted: false });
        setActiveEvent(null); setEventCounter(0); setShield(false); setFreeHint(false); setFallingBack(false); setLocationMistakes(0);
        setScreen('map');
      };

      const enterLocation = (locationIndex) => {
        playSound('click');
        const location = locations[locationIndex];
        const questions = getQuestionsForLocation(location.id);

        // Kui ikka 0 (teoreetiliselt v√µimatu kui on k√ºsimusi), siis v√µida
        if (questions.length === 0) {
          if (locationIndex < locations.length - 1) { setCurrentLocation(locationIndex + 1); showNotification('‚ú® K√µik vastatud!', 'success'); playSound('levelup'); }
          else { setStats(s => ({ ...s, gameCompleted: true })); setScreen('victory'); playSound('victory'); }
          return;
        }
        setLocationMistakes(0);
        const balanced = shuffleQuestions(questions, 6); // More questions per location
        setQuestionQueue(balanced);
        loadNextQuestion(balanced);
      };

      const loadNextQuestion = (queue = questionQueue) => {
        if (queue.length === 0) {
          if (locationMistakes === 0) { const newStats = { ...stats, perfectLocations: stats.perfectLocations + 1 }; setStats(newStats); checkAchievements(newStats); }
          if (currentLocation < locations.length - 1) { setCurrentLocation(prev => prev + 1); setScreen('map'); showNotification(`üéâ Tubli, ${playerName}!`, 'success'); playSound('levelup'); }
          else { setStats(s => ({ ...s, gameCompleted: true })); setScreen('victory'); playSound('victory'); }
          return;
        }
        const [next, ...rest] = queue;
        setCurrentQuestion(next); setQuestionQueue(rest); setUserAnswer(''); setSelectedOption(null); setShowResult(false); setShowHint(false); setScreen('question');
      };

      const submitAnswer = () => {
        if (!currentQuestion) return;
        let correct = false;
        switch (currentQuestion.type) {
          case 'written': case 'fillin': correct = checkWrittenAnswer(userAnswer, currentQuestion.answer); break;
          case 'choice': case 'identify': correct = selectedOption === currentQuestion.correct; break;
          case 'truefalse': correct = selectedOption === currentQuestion.correct; break;
        }
        setIsCorrect(correct); setShowResult(true); setAnsweredQuestions(prev => new Set([...prev, currentQuestion.id]));
        const newStats = { ...stats, totalAnswered: stats.totalAnswered + 1, totalCorrect: correct ? stats.totalCorrect + 1 : stats.totalCorrect, trueFalseCorrect: (correct && currentQuestion.type === 'truefalse') ? stats.trueFalseCorrect + 1 : stats.trueFalseCorrect };
        setStats(newStats);

        if (correct) {
          playSound('correct');
          let points = 100 + Math.floor(streak / 3) * 10;
          if (activeEvent?.effect === 'doublePoints') { points *= 2; setEventCounter(prev => { const n = prev - 1; if (n <= 0) setActiveEvent(null); return n; }); }
          setScore(prev => prev + points); setStreak(prev => prev + 1); if (streak + 1 > bestStreak) setBestStreak(streak + 1);
          if (currentQuestion.treasure && treasures[currentQuestion.treasure] && !collectedTreasures.includes(currentQuestion.treasure)) {
            setCollectedTreasures(prev => [...prev, currentQuestion.treasure]);
            setTimeout(() => { playSound('treasure'); showNotification(`üíé ${treasures[currentQuestion.treasure].name}!`, 'treasure'); }, 500);
          }
          if (currentQuestion.fact) { setFactCards(prev => prev.some(f => f.id === currentQuestion.id) ? prev : [...prev, { id: currentQuestion.id, question: currentQuestion.question, fact: currentQuestion.fact, image: currentQuestion.image }]); }
          if ((streak + 1) % 5 === 0) { setHints(prev => Math.min(prev + 1, 5)); playSound('streak'); }
          triggerRandomEvent();
          checkAchievements(newStats);
        } else {
          playSound('wrong'); setStreak(0); setLocationMistakes(prev => prev + 1);
          if (shield) { setShield(false); showNotification('ü™≤ Skarabeus kaitses!', 'bonus'); }
          else { const newLives = lives - 1; setLives(newLives); if (newLives <= 0) { setFallingBack(true); playSound('fall'); } }
        }
      };

      const handleFallBack = () => {
        setFallingBack(false); setLives(3);
        const newStats = { ...stats, recoveries: stats.recoveries + 1 }; setStats(newStats); checkAchievements(newStats);
        if (currentLocation > 0) { setCurrentLocation(prev => prev - 1); showNotification(`üòµ Tagasi: ${locations[currentLocation - 1].name}`, 'warning'); }
        else { showNotification(`üòµ Proovi uuesti!`, 'warning'); }
        setScreen('map');
      };

      const useHint = () => {
        if (showHint) return;
        if (freeHint) { setFreeHint(false); setShowHint(true); showNotification('ü¶¢ Thoti tasuta vihje!', 'bonus'); }
        else if (hints > 0) { playSound('click'); setHints(prev => prev - 1); setShowHint(true); }
      };

      const nextQuestion = () => { playSound('click'); if (fallingBack) { handleFallBack(); return; } loadNextQuestion(); };

      // ========== EKRAANID ==========
      if (screen === 'start') {
        return (
          <div className="min-h-screen bg-gradient-to-b from-amber-900 via-amber-800 to-amber-950 flex items-center justify-center p-4 relative overflow-hidden">
            <div className="bg-sand absolute inset-0 pointer-events-none"></div>
            <div className="max-w-2xl w-full text-center relative z-10">
              <div className="mb-8 animate-float">
                <h1 className="text-6xl md:text-7xl font-extrabold text-transparent bg-clip-text bg-gradient-to-b from-amber-200 to-amber-500 mb-2 tracking-tighter">
                  ìÇÄ NIILUSE TEEKOND ìÇÄ
                </h1>
                <p className="text-2xl text-amber-300/80 font-light tracking-widest uppercase">Vana-Egiptuse seiklus</p>
              </div>

              <div className="text-7xl mb-10 flex justify-center gap-4 drop-shadow-2xl">
                <span className="hover:scale-110 transition-transform cursor-default">üèõÔ∏è</span>
                <span className="hover:scale-110 transition-transform cursor-default">üê™</span>
                <span className="hover:scale-110 transition-transform cursor-default">üî∫</span>
                <span className="hover:scale-110 transition-transform cursor-default">üêç</span>
              </div>

              <div className="glass rounded-3xl p-8 mb-8 shadow-2xl border-amber-500/30">
                <label className="block text-amber-200 text-sm font-semibold mb-4 uppercase tracking-wider">Sisesta oma nimi, r√§ndur</label>
                <input
                  type="text"
                  value={playerName}
                  onChange={(e) => setPlayerName(e.target.value)}
                  onKeyDown={(e) => e.key === 'Enter' && playerName.trim() && startGame()}
                  placeholder="Nimi..."
                  className="w-full p-5 text-2xl text-center rounded-2xl border-2 border-amber-500/50 bg-amber-950/40 text-amber-100 placeholder-amber-700/50 focus:border-amber-400 focus:ring-4 focus:ring-amber-500/20 focus:outline-none transition-all"
                  maxLength={15}
                />
              </div>

              <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mb-10 text-amber-200/70">
                <div className="glass-light/10 p-3 rounded-2xl border border-amber-500/10">
                  <span className="block text-2xl mb-1">üó∫Ô∏è</span>
                  <span className="text-xs font-bold uppercase">9 Asukohta</span>
                </div>
                <div className="glass-light/10 p-3 rounded-2xl border border-amber-500/10">
                  <span className="block text-2xl mb-1">üíé</span>
                  <span className="text-xs font-bold uppercase">Aarded</span>
                </div>
                <div className="glass-light/10 p-3 rounded-2xl border border-amber-500/10">
                  <span className="block text-2xl mb-1">üèÜ</span>
                  <span className="text-xs font-bold uppercase">Saavutused</span>
                </div>
                <div className="glass-light/10 p-3 rounded-2xl border border-amber-500/10">
                  <span className="block text-2xl mb-1">üé≤</span>
                  <span className="text-xs font-bold uppercase">S√ºndmused</span>
                </div>
              </div>

              <button
                onClick={startGame}
                disabled={!playerName.trim()}
                className="btn-egypt bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-400 hover:to-amber-500 disabled:from-gray-700 disabled:to-gray-800 disabled:opacity-50 text-amber-950 font-black text-3xl py-5 px-16 rounded-2xl transition-all shadow-xl active:scale-95"
              >
                ALUSTA TEEKONDA ìÅ¥
              </button>
            </div>
          </div>
        );
      }

      if (screen === 'map') {
        return (
          <div className="min-h-screen bg-gradient-to-b from-blue-900 via-amber-800 to-amber-950 p-4 relative overflow-hidden">
            <div className="bg-sand absolute inset-0 pointer-events-none opacity-10"></div>
            <div className="max-w-4xl mx-auto mb-6 relative z-10">
              <div className="glass rounded-3xl p-4 flex flex-wrap justify-between items-center gap-4 shadow-2xl border-amber-500/20">
                <div className="flex gap-4 items-center">
                  <div className="bg-amber-500/20 px-4 py-2 rounded-2xl border border-amber-500/30">
                    <span className="text-amber-200 font-black text-lg tracking-tight uppercase">{playerName}</span>
                  </div>
                  <div className="flex gap-2 bg-black/30 px-3 py-2 rounded-2xl">
                    {[...Array(3)].map((_, i) => (
                      <span key={i} className={`text-2xl transition-all duration-500 ${i < lives ? 'drop-shadow-[0_0_8px_rgba(251,191,36,0.8)]' : 'opacity-20 grayscale'}`}>
                        {i === 0 ? 'ìÇì' : i === 1 ? 'ìÖÉ' : 'ìãπ'}
                      </span>
                    ))}
                  </div>
                  <div className="bg-blue-900/40 px-4 py-2 rounded-2xl border border-blue-400/30 flex items-center gap-2">
                    <span className="text-2xl">ü™∂</span>
                    <span className="text-blue-200 font-bold">{hints}</span>
                  </div>
                </div>

                <div className="flex gap-4 items-center">
                  {streak >= 3 && <div className="animate-bounce bg-orange-600 text-white px-3 py-1 rounded-full text-sm font-black shadow-lg shadow-orange-600/50">üî• {streak}</div>}
                  <div className="text-3xl font-black text-amber-400 drop-shadow-md tracking-tighter">{score}<span className="text-xs uppercase ml-1 opacity-70 text-amber-200">pt</span></div>
                  <button onClick={() => { playSound('click'); setSoundEnabled(!soundEnabled); }} className="p-2 hover:bg-white/10 rounded-full transition-colors">
                    <span className="text-2xl">{soundEnabled ? 'üîä' : 'üîá'}</span>
                  </button>
                </div>

                <div className="flex gap-2 w-full md:w-auto">
                  <button onClick={() => { playSound('click'); setShowTreasureRoom(true); }} className="flex-1 md:flex-none glass-light/10 hover:bg-white/10 text-amber-200 px-4 py-2 rounded-2xl text-sm font-bold border border-amber-500/20 transition-all flex items-center justify-center gap-2">
                    <span>üíé</span> {collectedTreasures.length}
                  </button>
                  <button onClick={() => { playSound('click'); setShowFactCards(true); }} className="flex-1 md:flex-none glass-light/10 hover:bg-white/10 text-amber-200 px-4 py-2 rounded-2xl text-sm font-bold border border-amber-500/20 transition-all flex items-center justify-center gap-2">
                    <span>üìö</span> {factCards.length}
                  </button>
                  <button onClick={() => { playSound('click'); setShowAchievements(true); }} className="flex-1 md:flex-none glass-light/10 hover:bg-white/10 text-amber-200 px-4 py-2 rounded-2xl text-sm font-bold border border-amber-500/20 transition-all flex items-center justify-center gap-2">
                    <span>üèÜ</span> {unlockedAchievements.length}
                  </button>
                </div>
              </div>
            </div>

            <div className="max-w-4xl mx-auto relative z-10">
              <div className="relative bg-gradient-to-b from-amber-200 via-amber-300 to-amber-500 rounded-[40px] p-8 shadow-[0_30px_60px_-12px_rgba(0,0,0,0.5)] border-4 border-amber-100/50 overflow-hidden" style={{ minHeight: '600px' }}>
                {/* River Background Pattern */}
                <div className="absolute inset-0 opacity-10 pointer-events-none bg-sandpaper"></div>

                {/* The Nile */}
                <div className="absolute left-1/2 top-0 bottom-0 w-12 bg-gradient-to-r from-blue-600 via-blue-400 to-blue-600 transform -translate-x-1/2 rounded-full opacity-40 blur-sm shadow-inner" />
                <div className="absolute left-1/2 top-0 bottom-0 w-8 bg-gradient-to-r from-blue-500 via-blue-300 to-blue-500 transform -translate-x-1/2 rounded-full opacity-60 animate-pulse" />

                {locations.map((loc, idx) => (
                  <div key={loc.id} className="absolute transform -translate-x-1/2 -translate-y-1/2 transition-all duration-700" style={{ left: `${loc.x}%`, top: `${loc.y}%` }}>
                    <div className="relative">
                      {idx === currentLocation && (
                        <div className="absolute -inset-4 bg-amber-400 rounded-full animate-ping opacity-20"></div>
                      )}
                      <button
                        onClick={() => idx === currentLocation && enterLocation(idx)}
                        disabled={idx !== currentLocation}
                        className={`relative w-20 h-20 rounded-3xl flex items-center justify-center text-4xl transition-all duration-500 shadow-xl
                          ${idx < currentLocation ? 'bg-green-600/40 text-green-100 opacity-60 scale-90 border-2 border-green-500/30' :
                            idx === currentLocation ? 'bg-amber-600 text-white scale-125 border-4 border-amber-100 hover:rotate-12 cursor-pointer z-20' :
                              'bg-amber-900/20 text-amber-900/30 opacity-40 scale-75 border-2 border-amber-900/10'}`}
                      >
                        {loc.icon}
                        {idx === currentLocation && (
                          <div className="absolute -top-12 left-1/2 transform -translate-x-1/2 glass px-4 py-2 rounded-xl text-sm font-black text-amber-200 whitespace-nowrap border border-amber-400/50 shadow-xl animate-float">
                            {loc.name}
                          </div>
                        )}
                        {idx < currentLocation && <span className="absolute -top-2 -right-2 text-xl">‚úÖ</span>}
                      </button>
                    </div>
                  </div>
                ))}
              </div>
              <p className="text-center mt-8 text-amber-200/60 font-medium uppercase tracking-[0.2em] animate-pulse">
                Liigu edasi m√∂√∂da Niilust...
              </p>
            </div>

            {/* Modals with enhanced styling */}
            {showTreasureRoom && (
              <div className="fixed inset-0 bg-black/90 backdrop-blur-md flex items-center justify-center z-50 p-4" onClick={() => setShowTreasureRoom(false)}>
                <div className="glass rounded-[40px] p-8 max-w-2xl w-full border-2 border-amber-500/30 shadow-[0_0_50px_rgba(251,191,36,0.2)]" onClick={e => e.stopPropagation()}>
                  <div className="flex justify-between items-center mb-8 border-b border-amber-500/20 pb-4">
                    <h2 className="text-4xl font-black text-amber-200 tracking-tighter uppercase italic">ìäù Aarete Saun</h2>
                    <button onClick={() => setShowTreasureRoom(false)} className="bg-amber-500/20 hover:bg-amber-500/40 text-amber-400 w-12 h-12 rounded-full flex items-center justify-center transition-all">‚úï</button>
                  </div>
                  {collectedTreasures.length === 0 ? (
                    <div className="py-20 text-center">
                      <div className="text-6xl opacity-20 mb-4">üè∫</div>
                      <p className="text-amber-300/50 text-xl font-medium">Sulle pole veel aardeid annetatud.</p>
                    </div>
                  ) : (
                    <div className="grid grid-cols-2 sm:grid-cols-4 gap-6 py-4">
                      {collectedTreasures.map(id => (
                        <div key={id} className="group relative">
                          <div className="absolute -inset-1 bg-gradient-to-r from-amber-600 to-amber-400 rounded-3xl blur opacity-25 group-hover:opacity-75 transition duration-1000 group-hover:duration-200"></div>
                          <div className="relative bg-amber-950/80 rounded-3xl p-4 text-center border border-amber-500/20 hover:scale-105 transition-all">
                            <div className="text-5xl mb-2 drop-shadow-lg">{treasures[id]?.icon}</div>
                            <div className="text-amber-200 text-xs font-black uppercase tracking-widest leading-tight">{treasures[id]?.name}</div>
                          </div>
                        </div>
                      ))}
                    </div>
                  )}
                </div>
              </div>
            )}
            {showFactCards && (
              <div className="fixed inset-0 bg-black/90 backdrop-blur-md flex items-center justify-center z-50 p-4" onClick={() => setShowFactCards(false)}>
                <div className="glass rounded-[40px] p-8 max-w-2xl w-full max-h-[80vh] overflow-y-auto border-2 border-amber-500/30" onClick={e => e.stopPropagation()}>
                  <div className="flex justify-between items-center mb-8 border-b border-amber-500/20 pb-4">
                    <h2 className="text-4xl font-black text-amber-200 tracking-tighter uppercase italic">ìèû Tarkuse Arhiiv</h2>
                    <button onClick={() => setShowFactCards(false)} className="bg-amber-500/20 hover:bg-amber-500/40 text-amber-400 w-12 h-12 rounded-full flex items-center justify-center transition-all">‚úï</button>
                  </div>
                  {factCards.length === 0 ? (
                    <div className="py-20 text-center text-amber-300/50 text-xl">Arhiiv on t√ºhi...</div>
                  ) : (
                    <div className="space-y-4">
                      {factCards.map((card, idx) => (
                        <div key={idx} className="bg-amber-950/60 rounded-3xl p-6 flex gap-6 items-start border border-amber-500/10 hover:border-amber-500/30 transition-all">
                          {card.image && <img src={card.image.url} alt="" className="w-20 h-20 rounded-2xl object-cover flex-shrink-0 border-2 border-amber-500/20" onError={(e) => e.target.style.display = 'none'} />}
                          <div>
                            <div className="text-amber-200 text-sm italic mb-2 opacity-60">"Kas teadsid, et..."</div>
                            <div className="text-amber-100 font-medium leading-relaxed">{card.fact}</div>
                          </div>
                        </div>
                      ))}
                    </div>
                  )}
                </div>
              </div>
            )}

            {showAchievements && (
              <div className="fixed inset-0 bg-black/90 backdrop-blur-md flex items-center justify-center z-50 p-4" onClick={() => setShowAchievements(false)}>
                <div className="glass rounded-[40px] p-8 max-w-3xl w-full max-h-[80vh] overflow-y-auto border-2 border-amber-500/30" onClick={e => e.stopPropagation()}>
                  <div className="flex justify-between items-center mb-8 border-b border-amber-500/20 pb-4">
                    <h2 className="text-4xl font-black text-amber-200 tracking-tighter uppercase italic">ìãπ Vaarao Autasud</h2>
                    <button onClick={() => setShowAchievements(false)} className="bg-amber-500/20 hover:bg-amber-500/40 text-amber-400 w-12 h-12 rounded-full flex items-center justify-center transition-all">‚úï</button>
                  </div>
                  <div className="grid grid-cols-1 sm:grid-cols-2 gap-4">
                    {achievements.map(a => {
                      const unlocked = unlockedAchievements.includes(a.id);
                      return (
                        <div key={a.id} className={`rounded-3xl p-6 flex items-center gap-4 border-2 transition-all ${unlocked ? 'bg-amber-500/20 border-amber-500/50 shadow-[0_0_20px_rgba(251,191,36,0.2)]' : 'bg-black/40 border-white/5 opacity-50'}`}>
                          <div className={`text-4xl w-16 h-16 flex items-center justify-center rounded-2xl ${unlocked ? 'bg-amber-400 text-amber-950 rotate-3' : 'bg-gray-800 rotate-0'}`}>{a.icon}</div>
                          <div>
                            <div className={`font-black uppercase tracking-tighter ${unlocked ? 'text-amber-200' : 'text-gray-500'}`}>{a.name}</div>
                            <div className={`text-xs ${unlocked ? 'text-amber-300/80' : 'text-gray-600'}`}>{a.description}</div>
                          </div>
                        </div>
                      );
                    })}
                  </div>
                </div>
              </div>
            )}

            {showEventModal && pendingEvent && (
              <div className="fixed inset-0 bg-black/95 backdrop-blur-xl flex items-center justify-center z-[100] p-4">
                <div className={`rounded-[40px] p-10 max-w-md w-full text-center relative overflow-hidden border-4 ${pendingEvent.positive ? 'bg-gradient-to-b from-green-900 via-green-950 to-black border-green-500/50' : 'bg-gradient-to-b from-red-900 via-red-950 to-black border-red-500/50'}`}>
                  <div className="bg-sand absolute inset-0 opacity-10 pointer-events-none"></div>
                  <div className="text-8xl mb-6 animate-float relative z-10 drop-shadow-[0_0_20px_rgba(255,255,255,0.3)]">{pendingEvent.icon}</div>
                  <h2 className="text-4xl font-black text-white mb-4 uppercase tracking-tighter relative z-10">{pendingEvent.name}</h2>
                  <p className="text-xl text-white/80 mb-10 font-medium relative z-10 font-light italic leading-relaxed">"{pendingEvent.description}"</p>
                  <button onClick={() => applyEvent(pendingEvent)} className="w-full bg-white text-black font-black py-5 rounded-3xl text-xl shadow-2xl active:scale-95 transition-transform relative z-10 uppercase tracking-widest">
                    V√µta vastu ìÅ†
                  </button>
                </div>
              </div>
            )}

            {notification && (
              <div className={`fixed top-8 left-1/2 transform -translate-x-1/2 px-8 py-4 rounded-full shadow-2xl z-[110] animate-in slide-in-from-top duration-500 flex items-center gap-3 border-2 ${notification.type === 'success' ? 'bg-green-600 border-green-400' :
                notification.type === 'treasure' ? 'bg-amber-600 border-amber-400' :
                  notification.type === 'bonus' ? 'bg-purple-600 border-purple-400' :
                    notification.type === 'warning' ? 'bg-red-600 border-red-400' : 'bg-blue-600 border-blue-400'} text-white font-black uppercase tracking-tighter text-sm`}>
                <span className="text-xl">{notification.type === 'treasure' ? 'üíé' : '‚ú®'}</span>
                {notification.message}
              </div>
            )}

            {newAchievement && (
              <div className="fixed bottom-8 right-8 bg-gradient-to-r from-amber-600 to-amber-500 text-white p-6 rounded-[32px] shadow-[0_20px_50px_rgba(0,0,0,0.5)] z-[120] animate-in slide-in-from-right duration-500 flex items-center gap-6 border-2 border-amber-300/30">
                <div className="text-5xl bg-white/20 w-20 h-20 flex items-center justify-center rounded-3xl rotate-6 animate-bounce">{newAchievement.icon}</div>
                <div>
                  <div className="text-xs font-black uppercase tracking-[0.2em] mb-1 opacity-70">Uus saavutus!</div>
                  <div className="text-2xl font-black uppercase tracking-tighter">{newAchievement.name}</div>
                </div>
              </div>
            )}
          </div>
        );
      }

      if (screen === 'question' && currentQuestion) {
        const typeLabel = { written: '‚úçÔ∏è Kirjuta', fillin: 'üìù L√ºnk', choice: 'üîò Vali', identify: 'üîç Tuvasta', truefalse: '‚öñÔ∏è T√µene/v√§√§r' };
        return (
          <div className="min-h-screen bg-gradient-to-b from-amber-900 via-amber-950 to-black p-4 relative overflow-hidden">
            <div className="bg-sand absolute inset-0 pointer-events-none opacity-5"></div>

            <div className="max-w-2xl mx-auto mb-6 relative z-10">
              <div className="glass rounded-3xl p-4 flex justify-between items-center shadow-xl border-amber-500/20">
                <div className="flex gap-4 items-center">
                  <div className="flex gap-2">
                    {[...Array(3)].map((_, i) => (
                      <span key={i} className={`text-2xl transition-all ${i < lives ? 'drop-shadow-[0_0_8px_rgba(251,191,36,0.6)]' : 'opacity-20 grayscale'}`}>
                        {i === 0 ? 'ìÇì' : i === 1 ? 'ìÖÉ' : 'ìãπ'}
                      </span>
                    ))}
                  </div>
                  {streak >= 3 && <div className="bg-orange-600 px-3 py-1 rounded-full text-xs font-black text-white animate-pulse">üî• {streak}</div>}
                </div>
                <div className="flex items-center gap-4">
                  <div className="text-right">
                    <div className="text-amber-200 text-[10px] font-black uppercase tracking-widest leading-none mb-1">Asukoht</div>
                    <div className="text-amber-400 font-bold text-sm">{locations[currentLocation]?.name}</div>
                  </div>
                  <button onClick={() => setSoundEnabled(!soundEnabled)} className="w-10 h-10 flex items-center justify-center hover:bg-white/10 rounded-full transition-colors">
                    <span className="text-xl">{soundEnabled ? 'üîä' : 'üîá'}</span>
                  </button>
                </div>
              </div>
            </div>

            <div className="max-w-2xl mx-auto relative z-10">
              <div className="bg-white rounded-[40px] shadow-[0_40px_100px_-20px_rgba(0,0,0,0.8)] overflow-hidden border-8 border-amber-950/20">
                <div className="bg-amber-900 text-amber-100 p-4 flex justify-between items-center font-black uppercase tracking-widest text-xs px-8">
                  <span className="bg-amber-800 px-4 py-1.5 rounded-full border border-amber-500/30">{typeLabel[currentQuestion.type]}</span>
                  <div className="flex gap-1">
                    {[...Array(currentQuestion.difficulty)].map((_, i) => <span key={i} className="text-amber-400 drop-shadow-[0_0_5px_rgba(251,191,36,0.8)]">‚≠ê</span>)}
                  </div>
                </div>

                <div className="bg-amber-50 p-6 flex justify-center items-center min-h-[250px] relative">
                  <div className="absolute inset-0 bg-cream-paper opacity-20"></div>
                  {(currentQuestion.displayImage || currentQuestion.image) && (
                    <div className="relative group transition-transform duration-500 hover:scale-105">
                      <div className="absolute inset-0 bg-amber-500 rounded-3xl blur-xl opacity-20 group-hover:opacity-40 transition-opacity"></div>
                      <QuestionImage imageData={currentQuestion.displayImage || currentQuestion.image} large={true} />
                    </div>
                  )}
                </div>

                <div className="p-8 pb-12 bg-white relative">
                  <h2 className="text-3xl font-black text-amber-950 mb-10 text-center leading-tight tracking-tight">
                    {currentQuestion.question}
                  </h2>

                  {showHint && currentQuestion.hint && (
                    <div className="bg-blue-50 border-l-8 border-blue-500 p-5 mb-8 rounded-2xl text-blue-900 animate-in slide-in-from-left duration-500 shadow-sm italic">
                      <div className="flex items-center gap-3">
                        <span className="text-3xl">üí°</span>
                        <p className="font-semibold text-lg">{currentQuestion.hint}</p>
                      </div>
                    </div>
                  )}

                  {!showResult && (
                    <div className="space-y-4">
                      {currentQuestion.type === 'truefalse' && (
                        <div className="flex gap-6">
                          <button onClick={() => { playSound('click'); setSelectedOption(true); }} className={`flex-1 btn-egypt p-6 rounded-3xl border-4 text-2xl font-black uppercase tracking-tighter transition-all ${selectedOption === true ? 'border-green-500 bg-green-500 text-white' : 'border-amber-100 bg-amber-50 text-amber-900'}`}>
                            ìÅπ T√µene
                          </button>
                          <button onClick={() => { playSound('click'); setSelectedOption(false); }} className={`flex-1 btn-egypt p-6 rounded-3xl border-4 text-2xl font-black uppercase tracking-tighter transition-all ${selectedOption === false ? 'border-red-500 bg-red-500 text-white' : 'border-amber-100 bg-amber-50 text-amber-900'}`}>
                            ìÅ¥ V√§√§r
                          </button>
                        </div>
                      )}

                      {(currentQuestion.type === 'choice' || currentQuestion.type === 'identify') && (
                        <div className="grid gap-3">
                          {currentQuestion.options.map((option, idx) => (
                            <button
                              key={idx}
                              onClick={() => { playSound('click'); setSelectedOption(idx); }}
                              className={`w-full btn-egypt p-5 text-left rounded-3xl border-4 text-lg font-bold transition-all flex items-center gap-4
                                ${selectedOption === idx ? 'border-amber-500 bg-amber-500 text-white' : 'border-amber-100 bg-amber-50 text-amber-950 hover:bg-amber-100'}`}
                            >
                              <span className={`w-10 h-10 flex items-center justify-center rounded-2xl text-sm font-black transition-colors ${selectedOption === idx ? 'bg-white/20' : 'bg-amber-950/10'}`}>
                                {String.fromCharCode(65 + idx)}
                              </span>
                              {option}
                            </button>
                          ))}
                        </div>
                      )}

                      {(currentQuestion.type === 'written' || currentQuestion.type === 'fillin') && (
                        <input
                          type="text"
                          value={userAnswer}
                          onChange={(e) => setUserAnswer(e.target.value)}
                          onKeyDown={(e) => e.key === 'Enter' && userAnswer.trim() && submitAnswer()}
                          placeholder="..."
                          className="w-full p-6 text-3xl font-black text-center border-4 border-amber-100 rounded-[32px] focus:border-amber-500 focus:bg-amber-50 focus:outline-none transition-all placeholder:opacity-20 text-amber-950"
                          autoFocus
                        />
                      )}

                      <div className="flex gap-4 mt-10">
                        <button
                          onClick={useHint}
                          disabled={!currentQuestion.hint || showHint || (!freeHint && hints <= 0)}
                          className={`w-20 h-20 rounded-3xl transition-all flex items-center justify-center text-3xl shadow-lg
                            ${currentQuestion.hint && !showHint && (freeHint || hints > 0) ? 'bg-blue-500 hover:bg-blue-600 text-white hover:scale-105' : 'bg-gray-100 text-gray-300'}`}
                        >
                          {freeHint ? 'ü¶¢' : 'ü™∂'}
                        </button>
                        <button
                          onClick={submitAnswer}
                          disabled={(currentQuestion.type === 'written' && !userAnswer.trim()) || (currentQuestion.type === 'fillin' && !userAnswer.trim()) || ((currentQuestion.type === 'choice' || currentQuestion.type === 'identify') && selectedOption === null) || (currentQuestion.type === 'truefalse' && selectedOption === null)}
                          className="flex-1 btn-egypt bg-gradient-to-r from-amber-600 to-amber-700 disabled:from-gray-300 disabled:to-gray-400 disabled:shadow-none text-white font-black text-2xl py-5 rounded-3xl shadow-xl shadow-amber-900/40 uppercase tracking-tighter"
                        >
                          Vasta ìÅ±
                        </button>
                      </div>
                    </div>
                  )}

                  {showResult && (
                    <div className={`p-8 rounded-[40px] animate-in zoom-in duration-300 ${isCorrect ? 'bg-green-500 text-white' : 'bg-red-500 text-white shadow-2xl shadow-red-500/50'}`}>
                      <div className="flex items-center gap-6 mb-6">
                        <div className="w-20 h-20 bg-white/20 rounded-3xl flex items-center justify-center text-6xl drop-shadow-xl animate-bounce">
                          {isCorrect ? '‚ú®' : 'ìÅº'}
                        </div>
                        <div>
                          <h3 className="text-3xl font-black uppercase tracking-tighter">
                            {isCorrect ? 'HIILGAV!' : 'OI-OI...'}
                          </h3>
                          <p className="text-white/80 font-bold italic">{isCorrect ? playerName : 'See kord ei t√§ppi...'}</p>
                        </div>
                      </div>

                      {!isCorrect && currentQuestion.wrongFeedback && (currentQuestion.type === 'choice') && currentQuestion.wrongFeedback[selectedOption + 1] && (
                        <div className="bg-red-900/30 rounded-2xl p-4 mb-4 border border-red-500/30 text-amber-100 text-sm font-medium animate-in slide-in-from-top">
                          üí° {currentQuestion.wrongFeedback[selectedOption + 1]}
                        </div>
                      )}

                      <div className="bg-white/10 rounded-3xl p-6 mb-6 border border-white/20 text-left">
                        {!isCorrect && (
                          <div className="mb-6 pb-6 border-b border-white/10">
                            <div className="text-xs font-black uppercase tracking-widest opacity-70 mb-2 text-amber-200">√ïige vastus oli</div>
                            <div className="text-2xl font-black text-white">
                              {currentQuestion.type === 'truefalse' ? (currentQuestion.correct ? 'T√µene' : 'V√§√§r') :
                                currentQuestion.type === 'choice' || currentQuestion.type === 'identify' ? currentQuestion.options[currentQuestion.correct] :
                                  currentQuestion.answer?.[0]}
                            </div>
                          </div>
                        )}
                        {(currentQuestion.explanation || currentQuestion.fact) && (
                          <div>
                            <div className="text-xs font-black uppercase tracking-widest opacity-70 mb-2 text-amber-200">Selgitus</div>
                            <p className="text-lg font-medium opacity-95 leading-relaxed italic text-white">
                              "{currentQuestion.explanation || currentQuestion.fact}"
                            </p>
                          </div>
                        )}
                      </div>

                      <button onClick={nextQuestion} className="w-full bg-white text-black font-black py-6 rounded-3xl text-2xl shadow-2xl transition-transform hover:scale-[1.02] active:scale-95 uppercase tracking-tighter">
                        {fallingBack ? 'üòµ KUKUD TAGASI' : 'J√ÑTKA TEEKONDA ìÖõ'}
                      </button>
                    </div>
                  )}
                </div>
              </div>
            </div>
          </div>
        );
      }

      if (screen === 'victory') {
        return (
          <div className="min-h-screen bg-gradient-to-b from-amber-600 via-amber-400 to-amber-700 flex items-center justify-center p-4 relative overflow-hidden">
            <div className="bg-sand absolute inset-0 pointer-events-none opacity-20"></div>
            <div className="text-center max-w-2xl relative z-10">
              <div className="text-9xl mb-8 animate-float drop-shadow-2xl">üëë</div>
              <h1 className="text-7xl font-black text-amber-950 mb-2 uppercase tracking-tighter">SUUR V√ïIT!</h1>
              <p className="text-3xl text-amber-900 font-bold mb-10 tracking-widest italic">{playerName}, oled Niiluse valitseja!</p>

              <div className="glass rounded-[40px] p-10 mb-10 shadow-[0_40px_100px_-20px_rgba(0,0,0,0.4)] border-2 border-white/30 backdrop-blur-xl">
                <div className="text-6xl font-black text-amber-950 mb-8 border-b-2 border-amber-950/10 pb-6 tracking-tighter">{score}<span className="text-xl uppercase ml-2 opacity-50">punkti</span></div>
                <div className="grid grid-cols-2 md:grid-cols-4 gap-6">
                  <div className="bg-amber-950/5 p-4 rounded-3xl border border-amber-950/5">
                    <div className="text-3xl mb-1">üî•</div>
                    <div className="text-[10px] font-black uppercase tracking-widest opacity-60 text-amber-900 mb-1">Parim</div>
                    <div className="text-2xl font-black text-amber-950">{bestStreak}</div>
                  </div>
                  <div className="bg-amber-950/5 p-4 rounded-3xl border border-amber-950/5">
                    <div className="text-3xl mb-1">üíé</div>
                    <div className="text-[10px] font-black uppercase tracking-widest opacity-60 text-amber-900 mb-1">Aarded</div>
                    <div className="text-2xl font-black text-amber-950">{collectedTreasures.length}</div>
                  </div>
                  <div className="bg-amber-950/5 p-4 rounded-3xl border border-amber-950/5">
                    <div className="text-3xl mb-1">üìö</div>
                    <div className="text-[10px] font-black uppercase tracking-widest opacity-60 text-amber-900 mb-1">Faktid</div>
                    <div className="text-2xl font-black text-amber-950">{factCards.length}</div>
                  </div>
                  <div className="bg-amber-950/5 p-4 rounded-3xl border border-amber-950/5">
                    <div className="text-3xl mb-1">üèÜ</div>
                    <div className="text-[10px] font-black uppercase tracking-widest opacity-60 text-amber-900 mb-1">Tiitlid</div>
                    <div className="text-2xl font-black text-amber-950">{unlockedAchievements.length}</div>
                  </div>
                </div>
              </div>

              <div className="text-6xl mb-10 flex justify-center gap-6 opacity-80 animate-pulse">
                <span>üèõÔ∏è</span><span>üê™</span><span>üî∫</span><span>üëë</span><span>üóø</span>
              </div>

              <button onClick={() => { playSound('click'); setScreen('start'); }} className="btn-egypt bg-amber-950 text-white font-black py-6 px-16 rounded-3xl text-3xl shadow-2xl hover:scale-105 active:scale-95 transition-all uppercase tracking-tighter">
                M√§ngi uuesti ìÅ±
              </button>
            </div>
          </div>
        );
      }

      return null;
    };

    ReactDOM.render(<NiiluseTeekond />, document.getElementById('root'));

    // Service Worker Registration
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('./sw.js')
          .then(registration => console.log('SW registered:', registration))
          .catch(error => console.log('SW registration failed:', error));
      });
    }
  </script>
</body>

</html>